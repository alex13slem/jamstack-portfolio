---
import { getLangFromUrl, useTranslations } from "@/i18n/utils";
import type { Tech } from "@/lib/schemas/tech";
import { cn } from "@/lib/utils/styles";
import Icon from "astro-iconify";

interface Props {
  techs: Tech[];
  class?: string;
}

const { techs, class: className } = Astro.props;

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<section
  class={cn(
    `p-4 rounded-xl
  bg-white/5 backdrop-blur-sm
    border border-white/10 h-fit`,
    className
  )}
>
  <h2
    class={cn(`white_gradient
              font-bold bg-clip-text text-transparent text-lg text-right leading-none`)}
  >
    {t("projects.techs.title")}
  </h2>
  <div
    class="mt-3 flex flex-row-reverse flex-wrap gap-3 prose prose-slate dark:prose-invert"
  >
    {
      techs.map((t) => (
        <a
          href={t.url}
          class={cn(`text-2xl flex justify-center items-center
                  text-white/60 hover:text-white/90 transition-colors`)}
          title={t.name}
        >
          <Icon name={t.iconify_id} className="size-5" />
        </a>
      ))
    }
  </div>
</section>
